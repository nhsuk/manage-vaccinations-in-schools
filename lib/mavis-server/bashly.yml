name: mavis-server
help: Mavis server commands
version: 0.0.0

# environment_variables:
# - name: api_key
#   help: Set your API key

commands:
  - name: shell
    alias: sh
    help: Open shell on server

    args:
      - &environment-arg
        name: environment
        required: true
        help: Specify the environment (cluster will be mavis-ENV)

    flags:
      - long: --service
        short: -s
        help: "Specify the service name. Ignored if using --task-id or --task-ip"
      - long: --task-id
        short: -t
        arg: task_id
        help: "Specify the task ID directly"
        conflicts: [--task-ip]
      - long: --task-ip
        short: -T
        arg: task_ip
        help: "Specify the task by its IP address."
        conflicts: [--task-id]
      - long: --exit-without-login
        short: -x
        arg:

    examples:
      - mavis-server shell test

  - name: list-tasks
    help: List running tasks for an env
    args:
      - *environment-arg
