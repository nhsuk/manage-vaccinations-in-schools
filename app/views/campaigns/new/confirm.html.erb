<% content_for :before_main do %>
  <%= render AppBacklinkComponent.new(
        href: previous_wizard_path,
        name: "#{@previous_step} page of programme creation",
      ) %>
<% end %>

<%= form_with model: @campaign, url: wizard_path, method: :put do |f| %>
  <%= f.govuk_error_summary %>

  <%= h1 "Check and confirm" %>

  <%= render AppCardComponent.new do |card| %>
    <% card.with_heading { "New programme details" } %>

    <%= govuk_summary_list do |summary_list| %>
      <%= summary_list.with_row do |row| %>
        <%= row.with_key { "Name" } %>
        <%= row.with_value { @campaign.name } %>
      <% end %>

      <%= summary_list.with_row do |row| %>
        <%= row.with_key { "Type" } %>
        <%= row.with_value { @campaign.human_enum_name(:type) } %>
      <% end %>

      <%= summary_list.with_row do |row| %>
        <%= row.with_key { "Academic year" } %>
        <%= row.with_value { campaign_academic_year(@campaign) } %>
      <% end %>

      <%= summary_list.with_row do |row| %>
        <%= row.with_key { "Start date" } %>
        <%= row.with_value { @campaign.start_date.to_fs(:long) } %>
      <% end %>

      <%= summary_list.with_row do |row| %>
        <%= row.with_key { "End date" } %>
        <%= row.with_value { @campaign.end_date.to_fs(:long) } %>
      <% end %>
    <% end %>
  <% end %>

  <%= f.govuk_submit "Save changes" %>
<% end %>
