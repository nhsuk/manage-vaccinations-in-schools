<%= render "breadcrumbs" %>

<%= h1 "Vaccination report (uploaded #{@immunisation_import.created_at.to_fs(:long)})" %>

<%= render AppCardComponent.new do |card| %>
  <% card.with_heading { "Vaccination report" } %>

  <%= govuk_summary_list(
        classes: %w[app-summary-list--no-bottom-border
                    nhsuk-u-margin-bottom-0],
      ) do |summary_list| %>
    <%= summary_list.with_row do |row| %>
      <%= row.with_key { "Uploaded on" } %>
      <%= row.with_value { @immunisation_import.created_at.to_fs(:long) } %>
    <% end %>

    <%= summary_list.with_row do |row| %>
      <%= row.with_key { "Uploaded by" } %>
      <%= row.with_value { @immunisation_import.uploaded_by.full_name } %>
    <% end %>

    <%= summary_list.with_row do |row| %>
      <%= row.with_key { "Campaign" } %>
      <%= row.with_value { @programme.name } %>
    <% end %>
  <% end %>
<% end %>

<%= render AppVaccinationRecordTableComponent.new(
      @immunisation_import.recorded? ? @vaccination_records.recorded : @vaccination_records.draft
    ) %>
