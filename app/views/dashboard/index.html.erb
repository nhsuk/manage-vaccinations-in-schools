<%= h1 "#{@service_name} (Mavis)", size: "xl" %>

<% if (count = @notices_count) %>
  <%= render AppWarningCalloutComponent.new(heading: "Important notices") do %>
    <p><%= link_to t(".notices.description", count:), imports_notices_path %></p>
  <% end %>
<% end %>

<ul class="nhsuk-grid-row nhsuk-card-group">
  <% @primary_items.each do |item| %>
    <li class="nhsuk-grid-column-<%= item.fetch(:width) %> nhsuk-card-group__item">
      <%= render AppCardComponent.new(link_to: item[:path], disabled: item[:path].nil?, compact: true) do |card| %>
        <% card.with_heading(level: 2, size: "s") { item.fetch(:title) } %>
        <% card.with_description { item.fetch(:description) } %>
      <% end %>
    </li>
  <% end %>
</ul>

<ul class="nhsuk-grid-row nhsuk-card-group">
  <% @secondary_items.each do |item| %>
    <li class="nhsuk-grid-column-one-third nhsuk-card-group__item">
      <%= render AppCardComponent.new(link_to: item.fetch(:path), secondary: true) do |card| %>
        <% card.with_heading(level: 2, size: "xs") { item.fetch(:title) } %>
        <% card.with_description { item.fetch(:description) } %>
      <% end %>
    </li>
  <% end %>
</ul>
