<% content_for :before_main do %>
  <%= render AppBacklinkComponent.new(session_path(@session), name: @session.location.name) %>
<% end %>

<% title = "Import class list" %>
<% hint = "Make sure the CSV you import has the same format as your usual template for class records." %>

<% content_for :page_title, title %>

<%= form_with model: @class_import, url: class_imports_path do |f| %>
  <%= f.govuk_error_summary %>

  <%= hidden_field_tag :session_id, @session.id %>

  <%= f.govuk_file_field :csv,
                         caption: { text: @session.location.name, size: "l" },
                         label: { text: title, tag: "h1", size: "l" },
                         hint: { text: hint } %>

  <%= render AppImportFormatDetailsComponent.new(import: @class_import) %>

  <%= f.govuk_submit %>
<% end %>
