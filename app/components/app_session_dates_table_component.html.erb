<%= govuk_table(html_attributes: { class: "nhsuk-table-responsive" }) do |table| %>
  <% table.with_head do |head| %>
    <% head.with_row do |row| %>
      <% row.with_cell(text: "Session date") %>
      <% session_column_names.each do |column| %>
        <% row.with_cell(text: column, numeric: true) %>
      <% end %>
    <% end %>
  <% end %>

  <% table.with_body do |body| %>
    <% rows.each_with_index do |row_data| %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: row_data[:label]) %>
        <% row_data[:tallies].each do |tally| %>
          <% row.with_cell(text: tally.to_s, numeric: true) %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

